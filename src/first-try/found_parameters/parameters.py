parameters = [
    # [k_tau, R, q_dot_s, tau_c, tau_s, c_v, motor_inertia]
    [1.399, 4.07, 0.195, 0.1174262, 0.1212, 0.0811, 0.00353],
    [0.5431512164377686, 1291.6689348565026, 104.68054250800859, 1.218440237381146e-09, 3.88843714561184e-11, 0.0004749654171202189, 7.2743450984994755],
    [0.4725432195348421, 999.9999999998458, 0.195, 0.013766750138463488, 0.5401628523157401, 0.00038091414444126954, 0.09999999999999705],
    [0.4841039112309385, 756.8097734062802, 0.05091263720578851, 0.13035664865002575, 675.0176795135759, 1.0687364347343367e-05, 0.09966052617112879],
    [0.005431108688556849, 0.0012915500241402003, 0.1, 3.5724896611040674e-09, 7.511141941707031e-09, 0.047500112681597116, 727.4638678134611],
    [0.5963825484327142, 727.94977483949, 0.5720516782390639, 0.0019598395431337334, 150.65265072076508, 1.7856170035991177e-06, 0.09995705741110049],
    [0.39817959562069966, 676.9650283286859, 0.8763279233381744, 0.03556603144505102, 329.58654596850016, 3.5559192019045276e-06, 0.09999054359885283],
    [0.3999999999999995, 999.9999999999038, 0.06413471011919114, 4.2328936727238527e-13, 0.3217366840518686, 0.056599282742150286, 0.0999999999999999],
    [0.3000000001293561, 999.9999839567088, 0.7992636461921439, 1.2637998857624173e-09, 2.62215039100119e-10, 0.21493478447250314, 0.05571606124949851],
    [0.39965832775146226, 0.05696279820899361, 2.7896681823390416e-05, 4.714715847997644e-12, 0.093382862774679, 0.37522619762051973, 0.09999999999999382],
    [0.16785137771043188, 148.72373124771633, -0.4454475377102746, -0.030410634929272554, 24.83508614602446, 0.0016903552076133063, 0.00353],
    [0.30000000041407104, 999.9999825782037, 0.22906851889523028, 5.973282429587892e-12, 1.2848656082600115e-10, 0.16818625427076084, 0.0794700962696715],
    [0.31122764156914207, 0.1117160412214706, 0.8152919146009289, 2.4141824014881754e-10, 2.77366920855877e-12, 0.2621370389125815, 0.09999999998914763],
    [-0.08470320494669685, -0.7850768897133685, -8145.437722832358, -26.562896352736427, -6.721998338626684, 0.24423452069781668, 8327.579546083227],
    [2.2515302840117473, -1.6804640988543955, -2.358958372966617, 5.682822087264316, -0.4856767272249518, 0.9575136393999973, 1.7859274757751393],
    [1.51294795, 4.39798614, 0.080964165, 0.0665140867408596, 0.203719639, 0.04217117990939209, 0.0155818308], # DYNABAN VALUES
    # # [0.3042451668205383, 773.4098640828726, 45.65287584629657, 0.0015083668453999047, 3.299237519024364, 0.0002247715657335186, 1414.4811029057703],
    # # [0.0002312932797621759, 3.732925907647315, 1.6003331983462672, 0.0004218926479683507, 9.64058064336563e-07, 5.677436024462631e-05, 3.3631489475579226],
    # # [7.571230574937591e-05, 0.1221392021021539, 1.1848936658342548, 0.009310711620553478, 7.432540523594571e-12, 1.013867971712557e-10, 0.0008520352959580581],
    # # [0.006292936574705525, 5.223345539357191, 0.837730515153382, 0.010511433527740843, 5.08407369688355e-13, 1.110870630448767e-10, 0.0018808445642874282],
    # # [0.00938963243329984, 5.779829206682484, 0.6876737673201955, 0.010384469767204524, 6.677874485485084e-13, 2.0940675551561883e-12, 0.0028315042125451836],
    # # [0.6441682343003097, 3146.5760416897815, 146.7612811300011, 1005.6727068179548, 231.3063268335677, 250.14761086602672, 1861.5935743503683],
    # # [0.7576067163713143, 4342.700425018877, 484.1115457851708, 1348.9982064281296, 14.35882561551869, 170.58056990884182, 818.8081705891649],
    # # [0.5267215513812812, 2056.587911422079, 1765.3138567240837, 646.7612391535393, 108.90380311643386, 192.18864671669522, 955.4991387081238],
    # # [0.6497516119048463, 2590.9456196295346, 647.0898448215726, 680.6707049502282, 5.814620031152491, 67.5672409638234, 403.43122743753224],
    # # [0.6413082455612168, 3470.9569911993767, 672.0449978704252, 617.8370541349732, 15.569194367116705, 101.71650409606286, 359.3905331538284],
    # # [0.6315690072543217, 2553.499332147893, 896.6573634325216, 191.93888193086462, 697.445351394445, 9.664226056134991, 742.7714500639429],
    # [0.6279968081927164, 19.610989817806708, 0.080964165, 0.0665140867408596, 0.203719639, 0.04217117990939209, 0.0155818308],
    # [0.6912276277182858, 32.19416884447544, 0.080964165, 0.0665140867408596, 0.203719639, 0.04217117990939209, 0.0155818308],
    # # [0.49619129258747674, 8.114570421434895, 0.080964165, 0.0665140867408596, 0.203719639, 0.04217117990939209, 0.0155818308],
    # [6.627660244706328, 2309.527897225374, 0.080964165, 0.0665140867408596, 0.203719639, 0.04217117990939209, 0.0155818308],
    # [1.1280326674496541, 5.012943614788573, 0.005604424504643682, 0.04901948100328409, 0.13119329862203571, 0.09571432581263468, 0.18135509015492612],
    # [0.6215915310193575, 19.30261199168717, 0.2138381868383845, 3.2475124904463506, 0.0016988958305258176, 3.8427071815377443, 0.551936861786207],
    # [0.6284150936159332, 19.669074203753354, 15.670188988856275, 0.7094779842518748, 0.2550330598954575, 9.061481615252122, 0.6015118229900288],
    # [0.7231328240330611, 20.1499658002049, 0.00839411747122328, 0.35534751207508375, 0.47134120955315423, 0.5721066051799162, 0.09994266891086782],
    # [0.6283804887764702, 19.65625491322823, 0.9819815626952186, 0.0986669516841792, 0.08627518498577504, 0.0911386463243526, 0.09999973569260932],
    # [0.6262562797837784, 19.572052673954143, 0.9918427031906537, 6.375098876581338e-05, 0.8649152022685132, 1.807585414824202, 0.09999999274124236],
    [0.7760734059332939, 53.08438534503578, 0.3643458235916052, 1.53583629850428e-11, 0.050638932514598695, 0.0012799212082675578, 0.09997941698830523], # Paramètres ± ok obtenus avec la tension, et upper_limit (on le voit notamment sur le terme inertie)
    # [0.6273029404673599, 19.584935486405286, 0.0008768818794847569, 0.00098931651144801, 4.599250911754852, 0.0031004937899559446, 10.951663902995339], # Same mais sans upper_limit
    # [0.6293087368899982, 19.668032342425956, 0.00011095493153477855, 0.00028617240733733455, 57.49623262554973, 0.002827298420686243, 270.59780703616957], # Avec courant et sans upper_limit
    # [1.6598502243122377, 78.53017628318521, 0.9981463453802352, 6.6151197669371635e-06, 8.995511299331978e-06, 0.002498523176142057, 0.09999992195972952], # Avec courant et upper_limit
    # [0.6283970833203092, 19.66343388926528, 0.0003165668369848102, 0.0003266125516648258, 63.043106450517065, 0.0009152377944312, 162.43786819308357],
    
    # Now tests using voltage model as predictor and without upper_limit (on exp12_01 folder)
    [30.830743393886383, 28.462064904866942, 13.926971925477098, 27.953946114344447, 52.873006301681244, 51.3689689262318, 2.794217359402724], # only velocity objective => problem : optimization lead to friction torque ++ => a = 0 always 
    [6.318938532724553, 0.3900725687817205, 48.2535236257721, 0.0009910587484138346, 0.0018538655178219471, 0.0013673245558007874, 72.91880363740952], # velocity + little friction => problem : optimization lead to too high torques, and inertia. Max torque of the dynamixel is around 4-5Nm (no load) + torque given with tension ≠ torque given with current
    [0.6916810923371693, 32.21367733167341, 0.000595577451425725, 5.3062164002936483e-05, 8.450556798653109, 0.0016547465112362705, 9.644677930168436], # velocity + little friction + torques relatively close from each other => problem : lead to super small computed friction torque + too high inertia (physically)
    [0.6918289679463162, 32.129441531658884, 0.01589532864997284, 0.00010580652335369045, 6.49422002690696, 0.0015354151651130812, 5.391685575529302],  # même chose que précedent, mais résultats différents. Donc il y a clairement de la recherche à faire à ce niveau
    [0.6923936804530714, 32.20489150344485, 0.0025740880638445963, 0.00013630955898567978, 2.1025323811096435, 0.0016890327193859178, 1.351235650475586],
    # Je ne préfère pas mettre de upper_bound, car ça l'atteint souvent, donc c'est comme si je guess la valeur...
    # Par exemple, limite sur l'inertie du moteur : 
    # [1.8090248927157884, 412.37415513276204, 536.735334175408, 1.7125119951092163e-07, 3.183019751731271e-05, 4.365735787949912e-07, 0.049999395269219434],
    # [0.8619156562138094, 123.62542639254242, 102.24774488361496, 1.8988933464559004e-06, 1.623808484508354e-05, 0.0008140294289924622, 0.049999251457488736]
    # Je pense que ce qui pose le plus problème jusqu'à présent c'est la qualité de la data collectée.
    # Prochaine étape c'est de : run sur toutes les data OK, avec tension et puis avec courant pour la prédiction.
    # Discuter des résultats etc... 

    # Nouvelle méthodo
    [1.51294795, 4.39798614, 0.080964165, 0.0665140867408596, 0.203719639, 0.04217117990939209, 0.0155818308], # DYNABAN VALUES
    [1.51294795, 11.19139674352287, 0.0007706529237867352, 2.1146754535325505e-07, 0.243986356975035, 0.0005883581101662545, 0.0155818308],
    [1.51294795, 346.8377020429474, 0.006177148608747516, 2.6318678324262105e-08, 5.055540213476112, 0.009969765204517105, 0.0155818308],
    [1.51294795, 232.07275980241585, 0.03242815874418119, 1.4102862832743612e-10, 287.7110900212483, 0.013272942815042628, 0.0155818308],
    [1.51294795, 0, 0.04088138748455106, 0.013969810404547218, 0.3238033991550472, 0.16807724759551942, 0.0155818308],
]
# [k_tau, R, q_dot_s, tau_c, tau_s, c_v, motor_inertia]
PARAMETERS_TO_FIND = parameters[-1]

# 29/01 : Parameters already found : [k_e, k_t, c_v] = [3.8197, 2.6657, 0.019323]
# Parameters to determine : [R, q_dot_s, tau_c, tau_s, motor_inertia]
